<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Menu Bundar Floating Dinamis Final</title>
  <style>
    /* Variabel CSS untuk kemudahan edit */
    :root {
      --main-bg: #191825;
      --accent-color: #52e265;
      --button-size: 80px;
      --icon-size: 60px;
      --radius: 120px; /* Jari-jari penyebaran ikon diperbesar untuk menampung 9 ikon */
    }

    body {
      margin: 0;
      background: var(--main-bg);
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden; 
    }

    .circle-menu {
      position: relative;
      width: 350px; /* Diperbesar */
      height: 350px; /* Diperbesar */
    }

    .center-button {
      width: var(--button-size);
      height: var(--button-size);
      background: var(--main-bg);
      color: white;
      border-radius: 50%;
      font-size: 2rem;
      border: 3px solid white; 
      cursor: pointer;
      z-index: 100; 
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      transition: transform 0.3s ease, background 0.3s ease;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .center-button.active {
      transform: translate(-50%, -50%) rotate(45deg); 
      background: var(--accent-color);
      border-color: var(--accent-color);
      color: var(--main-bg);
    }
    
    .menu-icon {
      width: var(--icon-size);
      height: var(--icon-size);
      background: #fff;
      border-radius: 50%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: flex;
      justify-content: center;
      align-items: center;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      /* Transisi pegas/bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55) */
      transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55), opacity 0.3s ease; 
      cursor: pointer;
      opacity: 0;
      z-index: 50;
    }

    .menu-icon.active {
      opacity: 1;
    }

    .menu-icon svg {
        width: 30px;
        height: 30px;
        fill: #333; 
    }
    
    /* Warna spesifik ikon agar terlihat lebih baik */
    .menu-icon[data-angle="22.5"] svg path:nth-child(1) { fill: #4285F4; } /* Blue */
    .menu-icon[data-angle="22.5"] svg path:nth-child(2) { fill: #34A853; } /* Green */
    .menu-icon[data-angle="22.5"] svg path:nth-child(3) { fill: #FBBC05; } /* Yellow */
    .menu-icon[data-angle="22.5"] svg path:nth-child(4) { fill: #EA4335; } /* Red */
    

    /* Skema URI tersembunyi */
    input[type="file"] {
      display: none;
    }

    /* --- GAYA JENDELA MENGAMBANG (FLOATING WINDOW) --- */

    .floating-window-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7); 
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000; 
      visibility: hidden; 
      opacity: 0;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .floating-window-overlay.show {
      visibility: visible;
      opacity: 1;
    }

    .floating-window-content {
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.5);
      width: 80%;
      max-width: 400px;
      transform: scale(0.8); 
      transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
    }

    .floating-window-overlay.show .floating-window-content {
      transform: scale(1); 
    }

    .floating-window-content h3 {
      margin-top: 0;
      color: var(--main-bg);
      border-bottom: 2px solid var(--accent-color);
      padding-bottom: 10px;
    }

    .close-button {
      background: var(--accent-color);
      color: var(--main-bg);
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 15px;
      font-weight: bold;
      margin-right: 10px;
    }
  </style>
</head>
<body>

  <div class="floating-window-overlay" id="myFloatingWindow">
    <div class="floating-window-content">
      <h3 id="windowTitle">Aksi Kamera</h3>
      <p id="windowContent">Anda telah memilih untuk mengambil foto. Klik 'Ambil Foto' untuk memicu input kamera atau 'Tutup' untuk kembali ke menu.</p>
      
      <button class="close-button" onclick="triggerCameraAndClose()">Ambil Foto</button>
      <button class="close-button" onclick="closeFloatingWindow()">Tutup</button>
    </div>
  </div>
  <div class="circle-menu">
    <button class="center-button" id="centerButton" onclick="toggleMenu()">+</button> 

    <div class="menu-icon" data-angle="270" onclick="showCameraWindow()">
      <svg viewBox="0 0 24 24"><path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/><path d="M22 6h-3.17L17 4H7L5.17 6H2c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-10 12c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"/></svg>
    </div>

    <div class="menu-icon" data-angle="315" onclick="window.location.href='whatsapp://send?text=Halo'; toggleMenuIfOpen();">
      <svg viewBox="0 0 24 24"><path fill="#25D366" d="M12 2C6.48 2 2 6.48 2 12c0 3.12 1.34 5.94 3.48 7.82l-1.4 3.98 4.1-1.35C10.02 21.66 11.98 22 14 22c5.52 0 10-4.48 10-10C24 6.48 19.52 2 12 2zm3.3 14.8c-.28.28-.68.42-1.08.42-.4 0-.8-.14-1.08-.42l-2.42-2.42-2.42 2.42c-.28.28-.68.42-1.08.42-.4 0-.8-.14-1.08-.42l-1.4-1.4c-.28-.28-.42-.68-.42-1.08 0-.4.14-.8.42-1.08l2.42-2.42-2.42-2.42c-.28-.28-.42-.68-.42-1.08 0-.4.14-.8.42-1.08l1.4-1.4c.28-.28.68-.42 1.08-.42.4 0 .8.14 1.08.42l2.42 2.42 2.42-2.42c.28-.28.68-.42 1.08-.42.4 0 .8.14 1.08.42l1.4 1.4c.28.28.42.68.42 1.08 0 .4-.14.8-.42 1.08l-2.42 2.42 2.42 2.42c.28.28.42.68.42 1.08 0 .4-.14.8-.42 1.08l-1.4 1.4z"/></svg>
    </div>

    <div class="menu-icon" data-angle="0" onclick="window.location.href='tg://resolve?domain=username_anda'; toggleMenuIfOpen();">
      <svg viewBox="0 0 24 24"><path fill="#229ED9" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.3 8.3L9.6 14.8c-.25.17-.58.17-.83 0L7 13.5l1.5-1.5 5.2-3.8c.2-.14.4-.04.4.2V11c0 .28-.22.5-.5.5h-5c-.28 0-.5-.22-.5-.5s.22-.5.5-.5h4v-1h-4c-1.38 0-2.5 1.12-2.5 2.5s1.12 2.5 2.5 2.5h5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5h-4v-1h4c1.38 0 2.5-1.12 2.5-2.5s-1.12-2.5-2.5-2.5z"/></svg>
    </div>

    <div class="menu-icon" data-angle="22.5" onclick="window.location.href='https://www.google.com'; toggleMenuIfOpen();">
      <svg viewBox="0 0 24 24"><path d="M12 11.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5z"/><path d="M21 12.5c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5z"/><path d="M12 22c-5.52 0-10-4.48-10-10s4.48-10 10-10 10 4.48 10 10-4.48 10-10 10zm0-18c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8z"/><path d="M12 1.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5z"/></svg>
    </div>

    <div class="menu-icon" data-angle="45" onclick="window.location.href='https://www.tiktok.com/@username'; toggleMenuIfOpen();">
      <svg viewBox="0 0 24 24"><path d="M16.5 10c0 1.94-.55 3.76-1.5 5.34V15c.95-1.58 1.5-3.4 1.5-5.34 0-4.08-3.32-7.4-7.4-7.4v.95c3.55 0 6.45 2.9 6.45 6.45zM8.5 7.6a4.45 4.45 0 0 1 0 8.8c-.8 0-1.5-.2-2.1-.6v-2.2c.6.4 1.3.6 2.1.6.28 0 .5-.22.5-.5s-.22-.5-.5-.5c-.8 0-1.5-.2-2.1-.6v-2.2c.6.4 1.3.6 2.1.6.28 0 .5-.22.5-.5s-.22-.5-.5-.5c-.8 0-1.5-.2-2.1-.6v-2.2c.6.4 1.3.6 2.1.6zm-1-1.6c-.6 0-1.1.5-1.1 1.1s.5 1.1 1.1 1.1 1.1-.5 1.1-1.1-.5-1.1-1.1-1.1z"/></svg>
    </div>

    <div class="menu-icon" data-angle="90" onclick="window.location.href='youtube://www.youtube.com'; toggleMenuIfOpen();">
      <svg viewBox="0 0 24 24"><path fill="#FF0000" d="M10 15.5l6-3.5-6-3.5v7z"/><path d="M21.5 6.5C21.75 6 22 5.5 22 5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2 0 .5.25 1 .5 1.5L2 19c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2L21.5 6.5zM10 15.5l6-3.5-6-3.5v7z"/></svg>
    </div>

    <div class="menu-icon" data-angle="135" onclick="window.location.href='instagram://user?username=yourusername'; toggleMenuIfOpen();">
      <svg viewBox="0 0 24 24"><path fill="#E4405F" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm3.3 14.8c-.28.28-.68.42-1.08.42-.4 0-.8-.14-1.08-.42l-2.42-2.42-2.42 2.42c-.28.28-.68.42-1.08.42-.4 0-.8-.14-1.08-.42l-1.4-1.4c-.28-.28-.42-.68-.42-1.08 0-.4.14-.8.42-1.08l2.42-2.42-2.42-2.42c-.28-.28-.42-.68-.42-1.08 0-.4.14-.8.42-1.08l1.4-1.4c.28-.28.68-.42 1.08-.42.4 0 .8.14 1.08.42l2.42 2.42 2.42-2.42c.28-.28.68-.42 1.08-.42.4 0 .8.14 1.08.42l1.4 1.4c.28.28.42.68.42 1.08 0 .4-.14.8-.42 1.08l-2.42 2.42 2.42 2.42c.28.28.42.68.42 1.08 0 .4-.14.8-.42 1.08l-1.4 1.4z"/></svg>
    </div>

    <div class="menu-icon" data-angle="180" onclick="window.location.href='geo:0,0?q=Jakarta'; toggleMenuIfOpen();">
      <svg viewBox="0 0 24 24"><path fill="#4285F4" d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
    </div>

    <div class="menu-icon" data-angle="225" onclick="alert('Membuka Games...'); toggleMenuIfOpen();">
      <svg viewBox="0 0 24 24"><path d="M12 2c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-2.5-3.5h5c.28 0 .5-.22.5-.5s-.22-.5-.5-.5h-5c-.28 0-.5.22-.5.5s.22.5.5.5zM12 7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>
    </div>

  </div>

  <input type="file" id="cameraInput" accept="image/*" capture="environment" />

  <script>
    let menuOpen = false;

    // Fungsi utilitas untuk menutup menu jika sedang terbuka
    function toggleMenuIfOpen() {
      if (menuOpen) {
        toggleMenu(); 
      }
    }

    function toggleMenu() {
      const icons = document.querySelectorAll('.menu-icon');
      const centerButton = document.getElementById('centerButton');
      const radius = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--radius'));
      
      centerButton.classList.toggle('active');

      icons.forEach((icon, index) => {
        const angle = parseFloat(icon.dataset.angle);
        const radian = angle * Math.PI / 180;
        
        // Perhitungan posisi melingkar
        const x = radius * Math.cos(radian);
        const y = radius * Math.sin(radian);

        if (menuOpen) {
          // TUTUP MENU: kembali ke tengah
          icon.style.transform = 'translate(-50%, -50%)';
          icon.classList.remove('active');
          icon.style.transitionDelay = '0s'; 
        } else {
          // BUKA MENU: menyebar ke posisi melingkar dengan efek staggered
          icon.style.transitionDelay = `${index * 0.05}s`; 
          icon.style.transform = `translate(-50%, -50%) translate(${x}px, ${y}px)`;
          icon.classList.add('active');
        }
      });

      menuOpen = !menuOpen;
    }

    /* --- FUNGSI JENDELA MENGAMBANG --- */
    const floatingWindow = document.getElementById('myFloatingWindow');

    // Menampilkan jendela
    function showCameraWindow() {
      toggleMenuIfOpen();
      floatingWindow.classList.add('show');
    }

    // Menutup jendela
    function closeFloatingWindow() {
      floatingWindow.classList.remove('show');
    }

    // Memicu input kamera dan menutup jendela
    function triggerCameraAndClose() {
        document.getElementById("cameraInput").click();
        closeFloatingWindow();
    }

    // Menutup jendela saat mengklik overlay
    floatingWindow.addEventListener('click', (e) => {
        if (e.target === floatingWindow) {
            closeFloatingWindow();
        }
    });
  </script>
</body>
</html>
